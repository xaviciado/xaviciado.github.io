const translations = {
    "en": {
        "title": "Taila - Your Personal Pet Trainer & Assistant",
        "description": "Taila helps you train your dog with personalized exercises, track progress, and build a stronger bond with your furry friend.",
        "nav": {
            "features": "Features",
            "how_it_works": "How it Works",
            "testimonials": "Testimonials",
            "download": "Download App"
        },
        "hero": {
            "title": "Train Your Dog,<br>Build a Bond.",
            "subtitle": "Taila is your pocket-sized dog trainer. Get personalized training plans, track exercises, and celebrate milestones with your best friend."
        },
        "store": {
            "google": "Google Play"
        },
        "features": {
            "title": "Why Taila?",
            "cards": {
                "1": {
                    "title": "Personalized Plans",
                    "desc": "Training routines tailored to your dog's age, breed, and skill level."
                },
                "2": {
                    "title": "Track Progress",
                    "desc": "Visualize your dog's learning journey with intuitive charts and milestones."
                },
                "3": {
                    "title": "Earn Rewards",
                    "desc": "Unlock achievements and trophies as you master new tricks together."
                }
            }
        },
        "how_it_works": {
            "title": "How it Works",
            "steps": {
                "1": {
                    "title": "Create Profile",
                    "desc": "Tell us about your dog's breed, age, and current skill level."
                },
                "2": {
                    "title": "Get Plan",
                    "desc": "Receive a customized daily training plan just for your pup."
                },
                "3": {
                    "title": "Start Training",
                    "desc": "Follow easy guides and track your progress together."
                }
            }
        },
        "testimonials": {
            "title": "What Users Say",
            "reviews": {
                "1": {
                    "text": "\"Taila transformed our walks! My dog finally listens.\"",
                    "author": "Sarah & Max"
                },
                "2": {
                    "text": "\"The best app for new puppy owners. Simple and effective.\"",
                    "author": "Mike & Bella"
                },
                "3": {
                    "text": "\"I love the progress tracking. It keeps us motivated!\"",
                    "author": "Elena & Rocky"
                }
            }
        },
        "footer": {
            "rights": "&copy; {year} Taila. All rights reserved.",
            "privacy": "Privacy Policy"
        }
    },
    "es": {
        "title": "Taila - Tu Entrenador Personal y Asistente para Mascotas",
        "description": "Taila te ayuda a entrenar a tu perro con ejercicios personalizados, seguir el progreso y construir un vínculo más fuerte con tu amigo peludo.",
        "nav": {
            "features": "Características",
            "how_it_works": "Cómo Funciona",
            "testimonials": "Testimonios",
            "download": "Descargar App"
        },
        "hero": {
            "title": "Entrena a tu Perro,<br>Construye un Vínculo.",
            "subtitle": "Taila es tu entrenador de perros de bolsillo. Obtén planes de entrenamiento personalizados, sigue ejercicios y celebra hitos con tu mejor amigo."
        },
        "store": {
            "google": "Google Play"
        },
        "features": {
            "title": "¿Por qué Taila?",
            "cards": {
                "1": {
                    "title": "Planes Personalizados",
                    "desc": "Rutinas de entrenamiento adaptadas a la edad, raza y nivel de habilidad de tu perro."
                },
                "2": {
                    "title": "Sigue el Progreso",
                    "desc": "Visualiza el viaje de aprendizaje de tu perro con gráficos intuitivos e hitos."
                },
                "3": {
                    "title": "Gana Recompensas",
                    "desc": "Desbloquea logros y trofeos mientras dominan nuevos trucos juntos."
                }
            }
        },
        "how_it_works": {
            "title": "Cómo Funciona",
            "steps": {
                "1": {
                    "title": "Crea un Perfil",
                    "desc": "Cuéntanos sobre la raza, edad y nivel de habilidad actual de tu perro."
                },
                "2": {
                    "title": "Obtén un Plan",
                    "desc": "Recibe un plan de entrenamiento diario personalizado solo para tu cachorro."
                },
                "3": {
                    "title": "Empieza a Entrenar",
                    "desc": "Sigue guías fáciles y sigue vuestro progreso juntos."
                }
            }
        },
        "testimonials": {
            "title": "Lo que Dicen los Usuarios",
            "reviews": {
                "1": {
                    "text": "\"¡Taila transformó nuestros paseos! Mi perro finalmente escucha.\"",
                    "author": "Sarah y Max"
                },
                "2": {
                    "text": "\"La mejor app para nuevos dueños de cachorros. Simple y efectiva.\"",
                    "author": "Mike y Bella"
                },
                "3": {
                    "text": "\"Me encanta el seguimiento del progreso. ¡Nos mantiene motivados!\"",
                    "author": "Elena y Rocky"
                }
            }
        },
        "footer": {
            "rights": "&copy; {year} Taila. Todos los derechos reservados.",
            "privacy": "Política de Privacidad"
        }
    },
    "ca": {
        "title": "Taila - El Teu Entrenador Personal i Assistent per a Mascotes",
        "description": "Taila t'ajuda a entrenar el teu gos amb exercicis personalitzats, fer un seguiment del progrés i construir un vincle més fort amb el teu amic pelut.",
        "nav": {
            "features": "Característiques",
            "how_it_works": "Com Funciona",
            "testimonials": "Testimonis",
            "download": "Descarregar App"
        },
        "hero": {
            "title": "Entrena el teu Gos,<br>Construeix un Vincle.",
            "subtitle": "Taila és el teu entrenador de gossos de butxaca. Aconsegueix plans d'entrenament personalitzats, segueix exercicis i celebra fites amb el teu millor amic."
        },
        "store": {
            "google": "Google Play"
        },
        "features": {
            "title": "Per què Taila?",
            "cards": {
                "1": {
                    "title": "Plans Personalitzats",
                    "desc": "Rutines d'entrenament adaptades a l'edat, raça i nivell d'habilitat del teu gos."
                },
                "2": {
                    "title": "Segueix el Progrés",
                    "desc": "Visualitza el viatge d'aprenentatge del teu gos amb gràfics intuïtius i fites."
                },
                "3": {
                    "title": "Guanya Recompenses",
                    "desc": "Desbloqueja èxits i trofeus mentre domineu nous trucs junts."
                }
            }
        },
        "how_it_works": {
            "title": "Com Funciona",
            "steps": {
                "1": {
                    "title": "Crea un Perfil",
                    "desc": "Explica'ns sobre la raça, edat i nivell d'habilitat actual del teu gos."
                },
                "2": {
                    "title": "Aconsegueix un Pla",
                    "desc": "Rep un pla d'entrenament diari personalitzat només per al teu cadell."
                },
                "3": {
                    "title": "Comença a Entrenar",
                    "desc": "Segueix guies fàcils i segueix el vostre progrés junts."
                }
            }
        },
        "testimonials": {
            "title": "El que Diuen els Usuaris",
            "reviews": {
                "1": {
                    "text": "\"Taila va transformar els nostres passejos! El meu gos finalment escolta.\"",
                    "author": "Sarah i Max"
                },
                "2": {
                    "text": "\"La millor app per a nous propietaris de cadells. Simple i efectiva.\"",
                    "author": "Mike i Bella"
                },
                "3": {
                    "text": "\"M'encanta el seguiment del progrés. Ens manté motivats!\"",
                    "author": "Elena i Rocky"
                }
            }
        },
        "footer": {
            "rights": "&copy; {year} Taila. Tots els drets reservats.",
            "privacy": "Política de Privacitat"
        }
    },
    "fr": {
        "title": "Taila - Votre Entraîneur Personnel et Assistant pour Animaux",
        "description": "Taila vous aide à éduquer votre chien avec des exercices personnalisés, à suivre les progrès et à renforcer le lien avec votre ami à fourrure.",
        "nav": {
            "features": "Fonctionnalités",
            "how_it_works": "Comment ça Marche",
            "testimonials": "Témoignages",
            "download": "Télécharger l'App"
        },
        "hero": {
            "title": "Éduquez Votre Chien,<br>Créez un Lien.",
            "subtitle": "Taila est votre dresseur de poche. Obtenez des plans d'entraînement personnalisés, suivez les exercices et célébrez les étapes importantes avec votre meilleur ami."
        },
        "store": {
            "google": "Google Play"
        },
        "features": {
            "title": "Pourquoi Taila ?",
            "cards": {
                "1": {
                    "title": "Plans Personnalisés",
                    "desc": "Des routines d'entraînement adaptées à l'âge, la race et le niveau de compétence de votre chien."
                },
                "2": {
                    "title": "Suivez les Progrès",
                    "desc": "Visualisez le parcours d'apprentissage de votre chien avec des graphiques intuitifs et des jalons."
                },
                "3": {
                    "title": "Gagnez des Récompenses",
                    "desc": "Débloquez des succès et des trophées en maîtrisant de nouveaux tours ensemble."
                }
            }
        },
        "how_it_works": {
            "title": "Comment ça Marche",
            "steps": {
                "1": {
                    "title": "Créez un Profil",
                    "desc": "Parlez-nous de la race, de l'âge et du niveau de compétence actuel de votre chien."
                },
                "2": {
                    "title": "Obtenez un Plan",
                    "desc": "Recevez un plan d'entraînement quotidien personnalisé juste pour votre chiot."
                },
                "3": {
                    "title": "Commencez l'Entraînement",
                    "desc": "Suivez des guides faciles et suivez vos progrès ensemble."
                }
            }
        },
        "testimonials": {
            "title": "Ce que Disent les Utilisateurs",
            "reviews": {
                "1": {
                    "text": "\"Taila a transformé nos promenades ! Mon chien écoute enfin.\"",
                    "author": "Sarah et Max"
                },
                "2": {
                    "text": "\"La meilleure application pour les nouveaux propriétaires de chiots. Simple et efficace.\"",
                    "author": "Mike et Bella"
                },
                "3": {
                    "text": "\"J'adore le suivi des progrès. Cela nous garde motivés !\"",
                    "author": "Elena et Rocky"
                }
            }
        },
        "footer": {
            "rights": "&copy; {year} Taila. Tous droits réservés.",
            "privacy": "Politique de Confidentialité"
        }
    },
    "de": {
        "title": "Taila - Dein Persönlicher Haustiertrainer & Assistent",
        "description": "Taila hilft dir, deinen Hund mit personalisierten Übungen zu trainieren, Fortschritte zu verfolgen und eine stärkere Bindung zu deinem pelzigen Freund aufzubauen.",
        "nav": {
            "features": "Funktionen",
            "how_it_works": "So Funktioniert's",
            "testimonials": "Erfahrungsberichte",
            "download": "App Herunterladen"
        },
        "hero": {
            "title": "Trainiere deinen Hund,<br>Baue eine Bindung auf.",
            "subtitle": "Taila ist dein Hundetrainer für die Hosentasche. Erhalte personalisierte Trainingspläne, verfolge Übungen und feiere Meilensteine mit deinem besten Freund."
        },
        "store": {
            "google": "Google Play"
        },
        "features": {
            "title": "Warum Taila?",
            "cards": {
                "1": {
                    "title": "Personalisierte Pläne",
                    "desc": "Trainingsroutinen, die auf Alter, Rasse und Fähigkeitsniveau deines Hundes zugeschnitten sind."
                },
                "2": {
                    "title": "Fortschritt Verfolgen",
                    "desc": "Visualisiere die Lernreise deines Hundes mit intuitiven Diagrammen und Meilensteinen."
                },
                "3": {
                    "title": "Belohnungen Verdienen",
                    "desc": "Schalte Erfolge und Trophäen frei, während ihr gemeinsam neue Tricks meistert."
                }
            }
        },
        "how_it_works": {
            "title": "So Funktioniert's",
            "steps": {
                "1": {
                    "title": "Profil Erstellen",
                    "desc": "Erzähle uns von Rasse, Alter und aktuellem Können deines Hundes."
                },
                "2": {
                    "title": "Plan Erhalten",
                    "desc": "Erhalte einen maßgeschneiderten täglichen Trainingsplan nur für deinen Welpen."
                },
                "3": {
                    "title": "Training Starten",
                    "desc": "Folge einfachen Anleitungen und verfolge euren Fortschritt gemeinsam."
                }
            }
        },
        "testimonials": {
            "title": "Was Nutzer Sagen",
            "reviews": {
                "1": {
                    "text": "\"Taila hat unsere Spaziergänge verändert! Mein Hund hört endlich.\"",
                    "author": "Sarah & Max"
                },
                "2": {
                    "text": "\"Die beste App für neue Welpenbesitzer. Einfach und effektiv.\"",
                    "author": "Mike & Bella"
                },
                "3": {
                    "text": "\"Ich liebe die Fortschrittsverfolgung. Das hält uns motiviert!\"",
                    "author": "Elena & Rocky"
                }
            }
        },
        "footer": {
            "rights": "&copy; {year} Taila. Alle Rechte vorbehalten.",
            "privacy": "Datenschutzerklärung"
        }
    },
    "it": {
        "title": "Taila - Il Tuo Addestratore Personale e Assistente per Animali",
        "description": "Taila ti aiuta ad addestrare il tuo cane con esercizi personalizzati, monitorare i progressi e costruire un legame più forte con il tuo amico peloso.",
        "nav": {
            "features": "Funzionalità",
            "how_it_works": "Come Funziona",
            "testimonials": "Testimonianze",
            "download": "Scarica App"
        },
        "hero": {
            "title": "Addestra il Tuo Cane,<br>Costruisci un Legame.",
            "subtitle": "Taila è il tuo addestratore tascabile. Ottieni piani di addestramento personalizzati, monitora gli esercizi e celebra i traguardi con il tuo migliore amico."
        },
        "store": {
            "google": "Google Play"
        },
        "features": {
            "title": "Perché Taila?",
            "cards": {
                "1": {
                    "title": "Piani Personalizzati",
                    "desc": "Routine di addestramento su misura per l'età, la razza e il livello di abilità del tuo cane."
                },
                "2": {
                    "title": "Monitora i Progressi",
                    "desc": "Visualizza il percorso di apprendimento del tuo cane con grafici intuitivi e traguardi."
                },
                "3": {
                    "title": "Guadagna Ricompense",
                    "desc": "Sblocca obiettivi e trofei mentre padroneggiate nuovi trucchi insieme."
                }
            }
        },
        "how_it_works": {
            "title": "Come Funziona",
            "steps": {
                "1": {
                    "title": "Crea Profilo",
                    "desc": "Raccontaci della razza, età e livello di abilità attuale del tuo cane."
                },
                "2": {
                    "title": "Ottieni Piano",
                    "desc": "Ricevi un piano di addestramento giornaliero personalizzato solo per il tuo cucciolo."
                },
                "3": {
                    "title": "Inizia ad Addestrare",
                    "desc": "Segui guide facili e monitora i vostri progressi insieme."
                }
            }
        },
        "testimonials": {
            "title": "Cosa Dicono gli Utenti",
            "reviews": {
                "1": {
                    "text": "\"Taila ha trasformato le nostre passeggiate! Il mio cane finalmente ascolta.\"",
                    "author": "Sarah & Max"
                },
                "2": {
                    "text": "\"La migliore app per i nuovi proprietari di cuccioli. Semplice ed efficace.\"",
                    "author": "Mike & Bella"
                },
                "3": {
                    "text": "\"Adoro il monitoraggio dei progressi. Ci mantiene motivati!\"",
                    "author": "Elena & Rocky"
                }
            }
        },
        "footer": {
            "rights": "&copy; {year} Taila. Tutti i diritti riservati.",
            "privacy": "Privacy Policy"
        }
    }
};

document.addEventListener('DOMContentLoaded', () => {
    const supportedLanguages = ['en', 'es', 'ca', 'fr', 'de', 'it'];
    const defaultLanguage = 'en';
    const selector = document.getElementById('language-selector');

    // Detect user language
    const userLang = navigator.language.split('-')[0];
    const lang = supportedLanguages.includes(userLang) ? userLang : defaultLanguage;

    // Set initial selector value
    selector.value = lang;

    // Load initial language
    applyTranslations(lang);

    // Handle selector change
    selector.addEventListener('change', (e) => {
        applyTranslations(e.target.value);
    });

    // Scroll Animations
    const observerOptions = {
        threshold: 0.1
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, observerOptions);

    document.querySelectorAll('.fade-in').forEach(el => {
        observer.observe(el);
    });
});

function applyTranslations(lang) {
    const currentTranslations = translations[lang];
    if (!currentTranslations) return;

    document.documentElement.lang = lang;

    const elements = document.querySelectorAll('[data-i18n]');
    const year = new Date().getFullYear();

    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        let value = getNestedValue(currentTranslations, key);

        if (value) {
            // Replace {year} placeholder
            value = value.replace('{year}', year);

            if (element.tagName === 'META' && element.getAttribute('name') === 'description') {
                element.setAttribute('content', value);
            } else if (element.tagName === 'IMG') {
                element.setAttribute('alt', value);
            } else {
                element.innerHTML = value;
            }
        }
    });
}

function getNestedValue(obj, path) {
    return path.split('.').reduce((prev, curr) => {
        return prev ? prev[curr] : null;
    }, obj);
}
